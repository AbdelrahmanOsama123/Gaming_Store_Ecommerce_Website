!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@thi.ng/errors")):"function"==typeof define&&define.amd?define(["exports","@thi.ng/errors"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).thi=e.thi||{},e.thi.ng=e.thi.ng||{},e.thi.ng.compose={}),e.thi.ng.errors)}(this,(function(e,t){"use strict";function r(...e){let[n,s,i,u,c,a,l,o,f,d]=e;switch(e.length){case 0:t.illegalArity(0);case 1:return n;case 2:return(...e)=>n(s(...e));case 3:return(...e)=>n(s(i(...e)));case 4:return(...e)=>n(s(i(u(...e))));case 5:return(...e)=>n(s(i(u(c(...e)))));case 6:return(...e)=>n(s(i(u(c(a(...e))))));case 7:return(...e)=>n(s(i(u(c(a(l(...e)))))));case 8:return(...e)=>n(s(i(u(c(a(l(o(...e))))))));case 9:return(...e)=>n(s(i(u(c(a(l(o(f(...e)))))))));case 10:default:const h=(...e)=>n(s(i(u(c(a(l(o(f(d(...e))))))))));return 10===e.length?h:r(h,...e.slice(10))}}function n(...e){return r.apply(null,e.reverse())}const s=n;class i{constructor(e){this.body=e,this.realized=!1}deref(){return this.realized||(this.value=this.body(),this.realized=!0),this.value}isRealized(){return this.realized}}e.Delay=i,e.comp=r,e.compI=s,e.compL=n,e.complement=function(e){return(...t)=>!e(...t)},e.constantly=e=>()=>e,e.delay=e=>new i(e),e.delayed=(e,t)=>new Promise((r=>setTimeout((()=>r(e)),t))),e.identity=e=>e,e.ifDef=(e,t)=>null!=t?e(t):void 0,e.juxt=function(...e){const[t,r,n,s,i,u,c,a]=e;switch(e.length){case 1:return e=>[t(e)];case 2:return e=>[t(e),r(e)];case 3:return e=>[t(e),r(e),n(e)];case 4:return e=>[t(e),r(e),n(e),s(e)];case 5:return e=>[t(e),r(e),n(e),s(e),i(e)];case 6:return e=>[t(e),r(e),n(e),s(e),i(e),u(e)];case 7:return e=>[t(e),r(e),n(e),s(e),i(e),u(e),c(e)];case 8:return e=>[t(e),r(e),n(e),s(e),i(e),u(e),c(e),a(e)];default:return t=>{let r=new Array(e.length);for(let n=e.length;--n>=0;)r[n]=e[n](t);return r}}},e.partial=function(e,...r){let[n,s,i,u,c,a,l,o]=r;switch(r.length){case 1:return(...t)=>e(n,...t);case 2:return(...t)=>e(n,s,...t);case 3:return(...t)=>e(n,s,i,...t);case 4:return(...t)=>e(n,s,i,u,...t);case 5:return(...t)=>e(n,s,i,u,c,...t);case 6:return(...t)=>e(n,s,i,u,c,a,...t);case 7:return(...t)=>e(n,s,i,u,c,a,l,...t);case 8:return(...t)=>e(n,s,i,u,c,a,l,o,...t);default:t.illegalArgs()}},e.promisify=e=>new Promise(((t,r)=>e(((e,n)=>null!=e?r(e):t(n))))),e.threadFirst=(e,...t)=>t.reduce(((e,t)=>"function"==typeof t?t(e):t[0](e,...t.slice(1))),e),e.threadLast=(e,...t)=>t.reduce(((e,t)=>"function"==typeof t?t(e):t[0](...t.slice(1),e)),e),e.trampoline=e=>{for(;"function"==typeof e;)e=e();return e},Object.defineProperty(e,"__esModule",{value:!0})}));