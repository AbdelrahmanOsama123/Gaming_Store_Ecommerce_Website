import { LRUCache } from "./lru";
export class MRUCache extends LRUCache {
    constructor(pairs, opts) {
        super(pairs, opts);
    }
    empty() {
        return new MRUCache(null, this.opts);
    }
    resetEntry(e) {
        this.items.asHead(e);
        return e.value.v;
    }
    doSetEntry(e, k, v, s) {
        if (e) {
            e.value.v = v;
            e.value.s = s;
            this.items.asHead(e);
        }
        else {
            this.items.cons({ k, v, s });
            this.map.set(k, this.items.head);
        }
    }
}
